import{U as D,r as t,j as e,bg as y,B as i,q as B,ab as I,n as P,af as o,bi as k,bs as v,y as c,I as m}from"./index-BDZEQFom.js";function A(){const l=D(),[h,x]=t.useState([]),[s,g]=t.useState(0),[n,u]=t.useState(5),[j,f]=t.useState(0),[p,d]=t.useState(!1),S=async()=>{d(!0);const a=await v("salesman",s+1,n);a!=null&&a.Data&&(x(a.Data.map((r,E)=>({id:r.id||E+1,...r}))),f(a.TotalCount||0)),d(!1)};t.useEffect(()=>{S()},[s,n]);const w=()=>{l("/material/salesman/add")},C=a=>{l(`/material/salesman/edit/${a.Emp_no}`,{state:a})},b=a=>{console.log("Delete salesman:",a)},N=[{field:"Emp_no",headerName:"Code",width:140},{field:"Sman_name",headerName:"Name",width:180},{field:"semail",headerName:"Email",width:220},{field:"scontact_no",headerName:"Contact No",width:160},{field:"actions",headerName:"Actions",width:120,sortable:!1,renderCell:a=>e.jsxs(e.Fragment,{children:[e.jsx(c,{title:"Edit",children:e.jsx(m,{onClick:()=>C(a.row),children:e.jsx(o,{color:"primary",children:"edit"})})}),e.jsx(c,{title:"Delete",children:e.jsx(m,{onClick:()=>b(a.row.id),children:e.jsx(o,{color:"error",children:"delete"})})})]})}];return e.jsxs(y,{children:[e.jsx(i,{className:"breadcrumb",children:e.jsx(B,{routeSegments:[{name:"Master"},{name:"Salesman"}]})}),e.jsxs(I,{spacing:3,children:[e.jsx(i,{display:"flex",justifyContent:"flex-end",children:e.jsx(P,{variant:"contained",startIcon:e.jsx(o,{children:"add"}),onClick:w,children:"Add Salesman"})}),e.jsx(i,{sx:{height:420,width:"100%"},children:e.jsx(k,{rows:h,columns:N,loading:p,rowCount:j,paginationMode:"server",pageSizeOptions:[5,10,20],paginationModel:{page:s,pageSize:n},onPaginationModelChange:a=>{g(a.page),u(a.pageSize)}})})]})]})}export{A as default};
